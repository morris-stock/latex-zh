% Package `zh' to use with LaTeX 2e
%
% created by Xiaofeng Wang <wasphin@gmail.com>
%
% Version 1.1 (30-Jan-2020)
%
% Copyright (C) 2013-2020  Xiaofeng Wang <wasphin@gmail.com>
%
% This program is free software; you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation; either version 2 of the License, or
% (at your option) any later version.
%
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You should have received a copy of the GNU General Public License
% along with this program in doc/COPYING; if not, write to the Free
% Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston,
% MA 02110-1301 USA

\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\def\fileversion{1.1}
\def\filedate{2020/01/30}
\ProvidesPackage{zh}[
  \filedate\space\fileversion
  Frequently Used Chinese Environment]

%% `style' contains pdf info, contents of tables and bookmarks.
\newif\if@zhstyle\@zhstylefalse% this is default

%% math environment
\newif\if@zhmath\@zhmathfalse

\DeclareOption{style}{\@zhstyletrue}
\DeclareOption{math}{\@zhmathtrue}
\ProcessOptions

%%%% Chinese environment packages, all CJK packages
\RequirePackage{%
  CJKutf8,   % contains CJK.sty
  CJKfntef,  % contains CJKulem.sty, CJK.sty
  CJKnumb,   % contains CJK.sty
  % CJKvert, % vertical
  % pinyin,  %
  CJKpunct, CJKspace}
% useful commands
%
% \CJKcaption{<caption>}
% \CJKbold and \CJKnormal
% \CJKuppercase
% \CJKtilde change the definition of the `~' character
% \CJKindent
%
\RequirePackage{indentfirst}
\setlength\parindent{2em}

\RequirePackage{zh-fonts}

\newcommand*\tranditionaldate{%
  \CJKdigits{\the\year}年% be attention that not all fonts contains `〇'
  \CJKnumber{\the\month}月%
  \CJKnumber{\the\day}日}

\newcommand*\zhdate{%
  {\the\year}~年~{\the\month}~月~{\the\day}~日}

\@ifundefined{today}{\newcommand\today\zhdate}{\renewcommand\today\zhdate}

\if@zhstyle
\RequirePackage{zh-style}
\fi% end of style

\if@zhmath
\RequirePackage{zh-math}
\fi% end of math

\endinput
